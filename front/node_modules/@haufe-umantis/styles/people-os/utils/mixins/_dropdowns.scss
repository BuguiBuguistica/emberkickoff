// Generate a Dropdown container
// for items inside use gListboxItem
// @example
// <ul class="dropdown">...</ul>
@mixin gDropdown($scroll-at: 0, $z-index: 10) {
  background: $c-white;
  border-radius: cell();
  border: solid 1px $c-neutroLight;
  box-shadow: 0 2px 14px 0 rgba(0, 0, 0, 0.07); // TO DO : define material shadows, by levels etc
  margin-top: cell(2);
  position: absolute;
  width: 100%;
  z-index: $z-index;
  @if is-number($scroll-at) {
    @if $scroll-at > 0 {
      overflow-y: scroll;
      max-height: #{$scroll-at}px;
    }
  } @else {
    @warn "$scroll-at param on gDropdown mixin should be a number";
  }
}

// Generate a Button + Dropdown
// dependencies: gDropdown and gListboxItem
// @example
// <button aria-haspopup="true" aria-expanded="false"]>Options</button><ul class="dropdown">...</ul>
@mixin gMenubutton {
  position: relative;
  button[aria-haspopup="true"] {
    align-items: center;
    border-radius: 50%;
    cursor: pointer;
    height: cell(8);
    justify-content: center;
    line-height: 1;
    width: cell(8);
    &:hover, &[aria-expanded="true"] {
      background: #ebebeb; // this color doesn't exist on the palette
    }
  }
  *[role="menu"] {
    @include gDropdown();
    width: max-content;
    right: cell(3);
    @media #{$ie} {
      display: table; // IE11 hack
    }
    *[role="menuitem"] {
      @include gListboxItem();
    }
  }
}
// https://www.w3.org/TR/wai-aria-practices/examples/menu-button/menu-button-links.html